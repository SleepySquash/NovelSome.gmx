<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>uchar_savenv(-1,"",0); und=0; undSort=0;
menutype=global.shMType; alpha=1; alpha2=0; yyfixed=0; alpha1=0; drglow=0; flowout=0; f=0; _lmpage2=0; _lmpage1=0; gMSeek=0; lgMSeek=0; mtpres=0; lastMSeek=0;
alph1=0; fstate=0; _ftm=0; ximg=0.8; yimg=0.8; _backoff=1.35; alpha3=1; t=0; tact=0; hf=0; hft=0; lastmx=0; lastmy=0; lastmenutype=global.shMType; ystr=0;
_lmx=0; _lmy=0; moHld=0; if (global.shMType!=0) {global.shMType=0;} mtpskin=0; selSkin=0; mPlaying=0; bset=0; mToPlay=""; mPrPoint=0; dpressed=-1; adh=0;
waitForAnswer=0; _tLogin=global.username; _tPassword=""; expanedid=global.shMExpaned; bimage=noone; balpha=0; bf=0; bcimage=noone; goToEditor=0; alpha4=0;
isEditOnly=global.shEOnly; if (global.shMExpaned!=-1) {global.shMExpaned=-1;} if (global.shEOnly!=-1) {global.shEOnly=-1;} expaned=0; goToStore=0; goToNMenu=0;
setToYY=0; rexpaned=-1; global.lRMenu=room_menu;

if (global.menuInited) {fstate=2; alpha1=1; _backoff=clamp(1+0.15-(0.2*alpha1),1,2); f=2; flowout=1;}
sprWelcome=sprnone; sprWelcomeblur=sprnone;
if (!global.menuInited) {sprWelcome=sprite_add(working_directory+"Stuff\Sprites\Interface\Welcome.png",1,0,0,0,0);
    if (sprite_exists(sprWelcome)) {sprite_set_offset(sprWelcome,sprite_get_width(sprWelcome)/2,sprite_get_height(sprWelcome)/2);}
        else {sprWelcome=sprnone;}}
if (!global.menuInited) {global.menuInited=1;}

if (!global.skScanned) {skin_scan(); global.skScanned=1;}
if (global.frSkScan) {skin_apply(); global.mFadeOut=500; global.mFadeIn=1000; global.frSkScan=0;}
if (!sprite_exists(global.menuBackground)) {global.menuBackground=sprite_add(working_directory+global.mBack_path,1,0,0,0,0);
    if (sprite_exists(global.menuBackground)) {
        sprite_set_offset(global.menuBackground,sprite_get_width(global.menuBackground)/2,sprite_get_height(global.menuBackground)/2);}}
if (!sprite_exists(global.menuBackgroundBlur)) {global.menuBackgroundBlur=sprite_add(working_directory+global.mBackBlur_path,1,0,0,0,0);
    if (sprite_exists(global.menuBackgroundBlur)) {
        sprite_set_offset(global.menuBackgroundBlur,sprite_get_width(global.menuBackgroundBlur)/2,sprite_get_height(global.menuBackgroundBlur)/2);}}

if (!global.stScanned) {story_scan(); global.stScanned=1;}
if (expanedid!=-1) {if (novdat.Background[expanedid]!="") {bcimage=sprite_add(working_directory+novdat.FolName[expanedid]+"\"+novdat.Background[expanedid],1,0,0,0,0);
    if (sprite_exists(bcimage)) {sprite_set_offset(bcimage,sprite_get_width(bcimage)/2,sprite_get_height(bcimage)/2);}}
    if (novdat.Music[expanedid]!="") {mToPlay=novdat.FolName[expanedid]+"\"+novdat.Music[expanedid];
        mPrPoint=novdat.MusicPreview[expanedid]; lastMSeek=global.shMStart; global.shMStart=global.musicMStart; gMSeek=1; global.mFadeIn=200; mPlaying=1;}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (sprite_exists(bimage)) {sprite_delete(bimage);}
if (sprite_exists(bcimage)) {sprite_delete(bcimage);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (sprite_exists(bimage)) {sprite_delete(bimage);}
if (sprite_exists(bcimage)) {sprite_delete(bcimage);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///WELCOME SCREEN
//wwidth=180; if (menupage==2) {wwidth=230;}
//draw_sprite_pos(global.loadedSpriteGUI_buttonShadow,-1,view_wview/2+wwidth,-100,view_wview/2+wwidth,view_hview+100,view_wview/2-wwidth,view_hview+100,view_wview/2-wwidth,-100,0.5);

draw_set_alpha(alpha1); if (sprite_exists(global.menuBackground)) {
    moffx=-(view_wview*0.008/2)+(mouse_x-view_xview)*0.008; moffy=-(view_hview*0.008/2)+(mouse_y-view_yview)*0.008;
    mbackx=(view_wview+(view_wview*0.008))/((sprite_get_width(global.menuBackground)));
    mbacky=(view_hview+(view_hview*0.008))/((sprite_get_height(global.menuBackground)));
    if (mbackx&gt;mbacky) {mbacky=mbacky;} else {mbackx=mbacky;}
    draw_sprite_ext(global.menuBackground,-1,view_xview+view_wview/2+moffx,
    view_yview+view_hview/2+moffy,_backoff*mbackx,_backoff*mbacky,0,c_white,alpha1);
    if (alpha3&gt;0) {if (sprite_exists(global.menuBackgroundBlur)) {
        draw_sprite_ext(global.menuBackgroundBlur,-1,view_xview+view_wview/2+moffx,
        view_yview+view_hview/2+moffy,_backoff*mbackx,_backoff*mbacky,0,c_white,alpha3);}}}
if (bcimage!=bimage) {bf=2;}
if (sprite_exists(bimage)) {if (bf==0) {if (!bset) {
    mback2x=(view_wview+(view_wview*0.008))/((sprite_get_width(bcimage)));
    mback2y=(view_hview+(view_hview*0.008))/((sprite_get_height(bcimage)));
    if (mback2x&gt;mback2y) {mback2y=mback2x;} else {mback2x=mback2y;} bset=1;} if (balpha&lt;1) {balpha+=0.12;} else {bf=1;}}}
if (bf==2) {amx=0; if (sprite_exists(bcimage)) {amx=0.5;}
    if (balpha&gt;amx) {balpha-=0.12;} else {if (bcimage!=bimage) {if (sprite_exists(bimage)) {sprite_delete(bimage);} bimage=bcimage;} bset=0; bf=0;}}
if (balpha&gt;0) {if (sprite_exists(bimage)) {
    moffx=-(view_wview*global.backOMove/2)+(mouse_x-view_xview)*global.backOMove; moffy=-(view_hview*global.backOMove/2)+(mouse_y-view_yview)*global.backOMove;
    draw_sprite_ext(bimage,-1,view_xview+view_wview/2+moffx,view_yview+view_hview/2+moffy,mback2x,mback2y,0,c_white,balpha);
    } else {bset=0;}} else {bset=0;} draw_set_alpha(alpha);

if (!goToEditor &amp;&amp; !goToStore &amp;&amp; !goToNMenu) {if (fstate&gt;=1) {if (flowout==1) {if (_backoff&gt;1) {_backoff-=0.01;} if (f==0) {if (alpha1&lt;1) {alpha1+=0.025;} //_backoff=clamp(1+0.15-(0.2*alpha1),1,2);
    if (alpha1&gt;=0.45) {f=1;}} else {if (alpha1&lt;1) {alpha1+=0.025;}} if (f==1) {if (t&lt;5) {t+=1;} else {f=2;}}
    if (f==2) {if (alpha3&gt;0) {alpha3-=0.05;} else {f=3;}}  if (menutype!=0) {flowout=2; if (!instance_exists(social)) {instance_create(0,0,social);} f=3; if (!mPlaying) {music_play_path(global.menuMusic); music_set_seek(global.musicMStart); mPlaying=1;}}
    if (alpha1&gt;=0.8 &amp;&amp; _backoff&lt;=1.15) {if (alpha2&lt;1) {alpha2+=0.05;}} if (alpha2&gt;=1 &amp;&amp; alpha1&gt;=1) {if (!instance_exists(social)) {instance_create(0,0,social);} flowout=2;}} else {
    if (!instance_exists(objMenu_load)) {if (alpha2&lt;1) {alpha2+=0.05;}} else {if (alpha2&gt;0) {alpha2-=0.18;}} if (alpha1&lt;1) {alpha1+=0.05;}
    /*if (fstate&lt;3) {if (alpha3&gt;0) {alpha3-=0.05;}}*/}
if (!window_has_focus()) {winActive=0;} else {
    if (mouse_x!=lastmx || mouse_y!=lastmy) {lastmx=mouse_x; lastmy=mouse_y; winActive=1; tact=0;} else {if (tact&lt;80) {tact+=1;} else {winActive=0;}}}
if (f&gt;=2) {if (!flowout) {if (winActive) {if (alpha&lt;1) {alpha+=0.09;} if (_backoff&gt;1) {_backoff=min(_backoff,_backoff-0.001);}}
    else {if (_backoff&lt;1.07) {_backoff=max(_backoff,_backoff+0.0005);} if (alpha&gt;0) {alpha-=0.01;}}}}}}
else {if (goToEditor) {if (mPlaying) {music_play(""); global.mFadeOut=600; mPlaying=0;}
        if (alpha4&lt;1) {alpha4+=0.12;} else {music_play(""); global.mFadeOut=600; room_goto(room_editor);}}
    if (goToStore) {if (alpha4&lt;1) {alpha4+=0.12;} else {room_goto(room_store);}}
    if (goToNMenu) {if (alpha4&lt;1) {alpha4+=0.12;} else {room_goto(room_nmenu);}}}

if (!goToEditor &amp;&amp; !goToStore &amp;&amp; !goToNMenu) {if ((keyboard_check_pressed(vk_enter) || mouse_check_button_pressed(mb_left)) &amp;&amp; fstate&lt;2) {
    fstate=2; alpha1=1; f=2; _backoff=clamp(1+0.15-(0.2*alpha1),1,2); alph1=0; flowout=1;}
if (fstate&gt;=3) {if (alpha&gt;0) {alpha-=0.05;}}
if (fstate==0) {if (alph1&lt;1) {alph1+=0.02;} if (alph1&gt;=1) {fstate=1;}}
if (alph1&gt;0) {if (fstate&lt;=0) {ximg+=0.0015; yimg+=0.0015; if (alph1&gt;=0.5) {drglow=1;}} else {ximg+=0.0010; yimg+=0.0010;}
    if (alph1&gt;=0.2) {if (flowout==0) {flowout=1;}}}
if (fstate&gt;=1) {if (alpha&gt;0) {alpha-=0.05;} if (!mPlaying) {music_play_path(global.menuMusic); music_set_seek(global.musicMStart); mPlaying=1;}}
if (fstate==1) {_ftm+=1; if (_ftm&gt;=12) {fstate=2;}}
if (fstate==2) {if (alph1&gt;0) {alph1-=0.05;} if (alph1&lt;=0) {fstate=3;
    if (sprWelcome!=sprnone) {sprite_delete(sprWelcome); sprWelcome=sprnone;} if (sprWelcomeblur!=sprnone) {sprite_delete(sprWelcomeblur); sprWelcomeblur=sprnone;}}}
draw_set_alpha(alpha); draw_rectangle_color(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,c_black,c_black,c_black,c_black,0); draw_set_alpha(1);
draw_sprite_ext(sprWelcome,-1,view_xview+view_wview/2,view_yview+view_hview/2,ximg,yimg,0,c_white,alph1);
if (drglow) {if (sprite_exists(sprWelcomeblur)) {draw_sprite_ext(sprWelcomeblur,0,view_xview+view_wview/2,view_yview+view_hview/2,ximg,yimg,0,c_white,alph1-0.5);}}}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alpha2&lt;=0) {exit;}
_lmpage1=menutype; if (menutype==0 || (alpha3&gt;0 &amp;&amp; lastmenutype==0)) {if (menutype==0) {if (flowout&gt;=2) {if (alpha3&gt;0) {alpha3-=0.18;}}}
if (menutype==0) {draw_set_alpha(alpha2);} else {if (flowout&gt;=2) {draw_set_alpha(1-alpha3);}}
draw_text_set(Pacifica39,c_white,fa_center,fa_middle); if (menutype==0) {button_set_clickble(1);} else {button_set_clickble(0);}
draw_text_outline(view_xview+view_wview/2,view_yview+view_hview/2-string_height("A")/2-1,lang.welcome_to+" "+string(global.project)+"!");
draw_text_set(Pacifica28,c_white,fa_center,fa_middle); if (global.novelCount&gt;0 &amp;&amp; (global.novelCount-global.delCount)&gt;0) {
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2-string_height("A")*2+3,lang.novel_select+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=1; isEditOnly=0;}}
else {if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2-string_height("A")*2+3,lang.no_novel_was_found,global.mButtonClr,global.mButtonOutClr,c_black,0)) {story_scan(); menutype=1; isEditOnly=0;}}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+string_height("A")/2+string_height("A")*2+8+1,lang.editor+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=2;}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+string_height("A")/2+1,lang.options_and_customization+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=3;}
if (button_outback(view_xview+string_width("Language")/2+10,view_yview+view_hview-string_height("A")/2-5,"Language",global.mButtonClr,color_get_darkest(global.mButtonOutClr),c_black,0)) {menutype=6;}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,lang.sexit,global.mButtonClr,global.mButtonOutClr,c_black,0)) {game_end();}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+string_height("A")/2+string_height("A")*1+4+1,lang.load_game+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=5;}}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ALPHA
//if (alpha&gt;0) {alpha-=0.05;}
if (alpha4&gt;0) {draw_set_alpha(alpha4);
draw_rectangle_colour(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,c_black,c_black,c_black,c_black,0); draw_set_alpha(1);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
