<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>uchar_savenv(-1,"",0); und=0; undSort=0; centeredyy=0; stab=0; centeredxx=0; optdone=0; rescenteredyy=0; resdone=0; backobj=noone; rback=instance_create(0,0,objMenu_background);
menutype=global.shMType; alpha=1; alpha2=0; yyfixed=0; alpha1=0; drglow=0; flowout=0; f=0; _lmpage2=0; _lmpage1=0; gMSeek=0; lgMSeek=0; mtpres=0; lastMSeek=0;
alph1=0; fstate=0; _ftm=0; ximg=0.8; yimg=0.8; _backoff=1.35; alpha3=1; t=0; tact=0; hf=0; hft=0; lastmx=0; lastmy=0; lastmenutype=global.shMType; ystr=0;
_lmx=0; _lmy=0; moHld=0; if (global.shMType!=0) {global.shMType=0;} mtpskin=0; selSkin=0; mPlaying=0; bset=0; mToPlay=""; mPrPoint=0; dpressed=-1; adh=0;
waitForAnswer=0; _tLogin=global.username; _tPassword=""; expanedid=global.shMExpaned; bimage=noone; balpha=0; bf=0; bcimage=noone; goToEditor=0; alpha4=0;
isEditOnly=global.shEOnly; if (global.shMExpaned!=-1) {global.shMExpaned=-1;} if (global.shEOnly!=-1) {global.shEOnly=-1;} expaned=0; goToStore=0; goToNMenu=0;
rexpaned=-1; novelsomescript_logicinit();
global.lRMenu=room_menu; setToYY=global.shMSetYY; if (global.shMSetYY) {global.shMSetYY=0;} lchanged=0; bpath=""; lpath="";
switch (display_aa) {case 2: aa_dr2x=1; aa_dr4x=0; aa_dr8x=0; break;
    case 6: aa_dr2x=1; aa_dr4x=1; aa_dr8x=0; break;
    case 12: aa_dr2x=0; aa_dr4x=1; aa_dr8x=1; break;
    case 14: aa_dr2x=1; aa_dr4x=1; aa_dr8x=1; break;
    default: aa_dr2x=0; aa_dr4x=0; aa_dr8x=0; break;}

window_reset_size();

if (os_browser != browser_not_a_browser) {global.menuInited=1; alpha2=1;}
if (global.menuInited) {fstate=2; alpha1=1; _backoff=clamp(1+0.15-(0.2*alpha1),1,2); f=2; flowout=1;}
sprWelcome=sprnone; sprWelcomeblur=sprnone;
if (!global.menuInited) {sprWelcome=sprite_add(working_directory+"Stuff\Sprites\Interface\Welcome.png",1,0,0,0,0);
    if (sprite_exists(sprWelcome)) {sprite_set_offset(sprWelcome,sprite_get_width(sprWelcome)/2,sprite_get_height(sprWelcome)/2);}
        else {sprWelcome=sprnone; fstate=2; alpha1=1; _backoff=clamp(1+0.15-(0.2*alpha1),1,2); f=2; flowout=1;}}
if (!global.menuInited) {global.menuInited=1;}

if (!global.skScanned) {skin_scan(); global.skScanned=1;}
if (global.frSkScan) {skin_apply(); global.mFadeOut=500; global.mFadeIn=1000; global.frSkScan=0;}
if (!sprite_exists(global.menuBackground)) {global.menuBackground=sprite_add(working_directory+global.mBack_path,1,0,0,0,0);
    if (sprite_exists(global.menuBackground)) {
        sprite_set_offset(global.menuBackground,sprite_get_width(global.menuBackground)/2,sprite_get_height(global.menuBackground)/2);}}
if (!sprite_exists(global.menuBackgroundBlur)) {global.menuBackgroundBlur=sprite_add(working_directory+global.mBackBlur_path,1,0,0,0,0);
    if (sprite_exists(global.menuBackgroundBlur)) {
        sprite_set_offset(global.menuBackgroundBlur,sprite_get_width(global.menuBackgroundBlur)/2,sprite_get_height(global.menuBackgroundBlur)/2);}}

fBAlpha=0; if (!global.stScanned) {story_scan(); global.stScanned=1;}
if (expanedid!=-1) {if (novdat.Background[expanedid]!="") {if (file_exists(current_directory()+"\"+novdat.FolName[expanedid]+"\"+novdat.Background[expanedid])) {fBAlpha=1;}
    //{bcimage=sprite_add(working_directory+novdat.FolName[expanedid]+"\"+novdat.Background[expanedid],1,0,0,0,0);
    bpath=novdat.FolName[expanedid]+"\"+novdat.Background[expanedid]; //if (sprite_exists(bcimage)) {sprite_set_offset(bcimage,sprite_get_width(bcimage)/2,sprite_get_height(bcimage)/2);}
    } if (novdat.Music[expanedid]!="") {mToPlay=novdat.FolName[expanedid]+"\"+novdat.Music[expanedid];
        mPrPoint=novdat.MusicPreview[expanedid]; lastMSeek=global.shMStart; global.shMStart=global.musicMStart; gMSeek=1; global.mFadeIn=200; mPlaying=1;}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (sprite_exists(bimage)) {sprite_delete(bimage);}
if (sprite_exists(bcimage)) {sprite_delete(bcimage);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (sprite_exists(bimage)) {sprite_delete(bimage);}
if (sprite_exists(bcimage)) {sprite_delete(bcimage);}
if (instance_exists(backobj)) {with (backobj) {instance_destroy();}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///WELCOME SCREEN
//wwidth=180; if (menupage==2) {wwidth=230;}
//draw_sprite_pos(global.loadedSpriteGUI_buttonShadow,-1,view_wview/2+wwidth,-100,view_wview/2+wwidth,view_hview+100,view_wview/2-wwidth,view_hview+100,view_wview/2-wwidth,-100,0.5);

draw_set_alpha(alpha1); if (sprite_exists(global.menuBackground)) {}
if (bpath!=lpath) {fdin=0.13; if (instance_exists(backobj)) {fdin=0.27; with (backobj) {dest=1;}} if (bpath!="") {
    if (file_exists(current_directory()+bpath)) {backobj=instance_create(0,0,objSNv_background); if (fBAlpha) {backobj.alpha=1; fBAlpha=0;}
        backobj.image_path=current_directory()+bpath; backobj.fadein=fdin;}} lpath=bpath;}
/*if (bcimage!=bimage) {bf=2;}
if (sprite_exists(bimage)) {if (bf==0) {if (!bset) {
    mback2x=(view_wview+(view_wview*0.008))/((sprite_get_width(bcimage)));
    mback2y=(view_hview+(view_hview*0.008))/((sprite_get_height(bcimage)));
    if (mback2x&gt;mback2y) {mback2y=mback2x;} else {mback2x=mback2y;} bset=1;} if (balpha&lt;1) {balpha+=0.12;} else {bf=1;}}}
if (bf==2) {amx=0; if (sprite_exists(bcimage)) {amx=0.5;}
    if (balpha&gt;amx) {balpha-=0.12;} else {if (bcimage!=bimage) {if (sprite_exists(bimage)) {sprite_delete(bimage);} bimage=bcimage;} bset=0; bf=0;}}
if (balpha&gt;0) {if (sprite_exists(bimage)) {
    moffx=-(view_wview*global.backOMove/2)+(mouse_x-view_xview)*global.backOMove; moffy=-(view_hview*global.backOMove/2)+(mouse_y-view_yview)*global.backOMove;
    draw_sprite_ext(bimage,-1,view_xview+view_wview/2+moffx,view_yview+view_hview/2+moffy,mback2x,mback2y,0,c_white,balpha);
    } else {bset=0;}} else {bset=0;}*/ draw_set_alpha(alpha);

if (!goToEditor &amp;&amp; !goToStore &amp;&amp; !goToNMenu) {if (fstate&gt;=1) {if (flowout==1) {if (_backoff&gt;1) {_backoff-=0.01*Time.deltatime;} if (f==0) {if (alpha1&lt;1) {alpha1+=0.025*Time.deltatime;} //_backoff=clamp(1+0.15-(0.2*alpha1),1,2);
    if (alpha1&gt;=0.45) {f=1;}} else {if (alpha1&lt;1) {alpha1+=0.025*Time.deltatime;}} if (f==1) {if (t&lt;5) {t+=1*Time.deltatime;} else {f=2;}}
    if (f==2) {if (alpha3&gt;0) {alpha3-=0.05*Time.deltatime;} else {f=3;}}  if (menutype!=0) {flowout=2; if (!global.isGit) {if (!instance_exists(social)) {instance_create(0,0,social);}} f=3; if (!mPlaying &amp;&amp; !instance_exists(objScr_gameInit)) {music_play_path(global.menuMusic); music_set_seek(global.musicMStart); mPlaying=1;}}
    if (alpha1&gt;=0.8 &amp;&amp; _backoff&lt;=1.15) {if (alpha2&lt;1) {alpha2+=0.05*Time.deltatime;}} if (alpha2&gt;=1 &amp;&amp; alpha1&gt;=1) {if (!global.isGit) {if (!instance_exists(social)) {instance_create(0,0,social);}} flowout=2;}} else {
    if (!instance_exists(objMenu_load)) {if (alpha2&lt;1) {alpha2+=0.05*Time.deltatime;}} else {if (alpha2&gt;0) {alpha2-=0.18*Time.deltatime;}} if (alpha1&lt;1) {alpha1+=0.05*Time.deltatime;}
    /*if (fstate&lt;3) {if (alpha3&gt;0) {alpha3-=0.05;}}*/}
if (!window_has_focus()) {winActive=0;} else {
    if (mouse_x!=lastmx || mouse_y!=lastmy) {lastmx=mouse_x; lastmy=mouse_y; winActive=1; tact=0;} else {if (tact&lt;80) {tact+=1;} else {winActive=0;}}}
if (f&gt;=2) {if (!flowout) {if (winActive) {if (alpha&lt;1) {alpha+=0.09*Time.deltatime;} if (_backoff&gt;1) {_backoff=min(_backoff,_backoff-0.001*Time.deltatime);}}
    else {if (_backoff&lt;1.07) {_backoff=max(_backoff,_backoff+0.0005*Time.deltatime);} if (alpha&gt;0) {alpha-=0.01*Time.deltatime;}}}}}}
else {if (goToEditor) {if (mPlaying) {music_play(""); global.mFadeOut=600; mPlaying=0;}
        if (alpha4&lt;1) {alpha4+=0.12*Time.deltatime;} else {music_play(""); global.mFadeOut=600; room_goto(room_editor);}}
    if (goToStore) {if (alpha4&lt;1) {alpha4+=0.12*Time.deltatime;} else {room_goto(room_store);}}
    if (goToNMenu) {if (alpha4&lt;1) {alpha4+=0.12*Time.deltatime;} else {room_goto(room_nmenu);}}}

if (!goToEditor &amp;&amp; !goToStore &amp;&amp; !goToNMenu) {if ((keyboard_check_pressed(vk_enter) || mouse_check_button_pressed(mb_left)) &amp;&amp; fstate&lt;2) {
    fstate=2; alpha1=1; f=2; _backoff=clamp(1+0.15-(0.2*alpha1),1,2); alph1=0; flowout=1;}
if (fstate&gt;=3) {if (alpha&gt;0) {alpha-=0.05*Time.deltatime;}}
if (fstate==0) {if (alph1&lt;1) {alph1+=0.02*Time.deltatime;} if (alph1&gt;=1) {fstate=1;}}
if (alph1&gt;0) {if (fstate&lt;=0) {ximg+=0.0015*Time.deltatime; yimg+=0.0015*Time.deltatime; if (alph1&gt;=0.5) {drglow=1;}} else {ximg+=0.0010*Time.deltatime; yimg+=0.0010*Time.deltatime;}
    if (alph1&gt;=0.2) {if (flowout==0) {flowout=1;}}}
if (fstate&gt;=1) {if (alpha&gt;0) {alpha-=0.05*Time.deltatime;} if (!mPlaying &amp;&amp; !instance_exists(objScr_gameInit)) {music_play_path(global.menuMusic); music_set_seek(global.musicMStart); mPlaying=1;}}
if (fstate==1) {_ftm+=1*Time.deltatime; if (_ftm&gt;=12) {fstate=2;}}
if (fstate==2) {if (alph1&gt;0) {alph1-=0.05*Time.deltatime;} if (alph1&lt;=0) {fstate=3;
    if (sprWelcome!=sprnone) {sprite_delete(sprWelcome); sprWelcome=sprnone;} if (sprWelcomeblur!=sprnone) {sprite_delete(sprWelcomeblur); sprWelcomeblur=sprnone;}}}
draw_set_alpha(alpha); draw_rectangle_color(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,c_black,c_black,c_black,c_black,0); draw_set_alpha(1);
draw_sprite_ext(sprWelcome,-1,view_wview/2,view_hview/2,ximg,yimg,0,c_white,alph1);
if (drglow) {if (sprite_exists(sprWelcomeblur)) {draw_sprite_ext(sprWelcomeblur,0,view_xview+view_wview/2,view_yview+view_hview/2,ximg,yimg,0,c_white,alph1-0.5);}}}

/*if (keyboard_check_pressed(vk_enter)) {fstate=2; x=1580; y=1786; objView.x=x; objView.y=y;
    if (!instance_exists(objScr_testmenu)) {_ab=instance_create(x,y,objScr_testmenu); _ab.alpha1=1;
        with (_ab) {_backoff=clamp(1+0.15-(0.2*alpha1),1,2);}} else {
            with (objScr_testmenu) {alpha1=1; _backoff=clamp(1+0.15-(0.2*alpha1),1,2);}}
    objView.Follow=id; ymove=0; ydomove=0; alph1=0;}
if (ydomove) {y+=ymove; objView.x=x; objView.y=y;} //if (ymove==-52) {}
if (fstate==0) {if (alph1&lt;1) {alph1+=0.02;} if (alph1&gt;=1) {fstate=1;}}
if (alph1&gt;0) {if (fstate&lt;=0) {ximg+=0.003; yimg+=0.003;
    if (alph1&gt;=0.7) {ymove=-52;}} else {ximg+=0.0015; yimg+=0.0015;}}
if (fstate&gt;=1) {if (alpha&gt;0) {alpha-=0.05;}
    if (alpha&lt;=0.4 &amp;amp;&amp;amp; alpha&gt;0) {ymove+=4;} if (alpha&lt;=0) {if (ymove&lt;0) {ymove+=1;}}}
if (fstate==1) {_ftm+=1; if (_ftm&gt;=35) {fstate=2;}
    if (_ftm&gt;=1) {if (sprite_exists(global.menuBackground)) {if (!instance_exists(objScr_testmenu)) {instance_create(x,y,objScr_testmenu);}}}}
if (fstate==2) {if (alph1&gt;0) {alph1-=0.05;} if (alph1&lt;=0) {fstate=3;}
    if (alph1&lt;=0.8) {if (!sprite_exists(global.menuBackground)) {if (!instance_exists(objScr_testmenu)) {instance_create(x,y,objScr_testmenu);}}}}

draw_set_alpha(alpha); draw_rectangle_color(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,c_black,c_black,c_black,c_black,0); draw_set_alpha(1);
draw_text_set(Furore40,c_white,fa_center,fa_middle); draw_set_alpha(alph1);
draw_sprite_ext(sprWelcome,-1,view_xview+view_wview/2,view_yview+view_hview/2,ximg,yimg,0,c_white,alph1);
draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alpha2&lt;=0) {exit;}
_lmpage1=menutype; if (menutype==0 || (alpha3&gt;0 &amp;&amp; lastmenutype==0)) {if (menutype==0) {if (flowout&gt;=2) {if (alpha3&gt;0) {alpha3-=0.18*Time.deltatime;}}}
if (round(menutype)==0) {draw_set_alpha(alpha2);} else {if (flowout&gt;=2) {draw_set_alpha(1-alpha3);}}
draw_text_set(Pacifica39,c_white,fa_center,fa_middle); if (menutype==0) {button_set_clickble(1);} else {button_set_clickble(0);}
draw_text_outline(view_xview+window_get_width()/2,view_yview+window_get_height()/2-string_height("A")/2-1,lang.welcome_to+" "+string(global.project)+"!");
___rem=global.mButtonOutClr; global.mButtonOutClr=c_black; draw_text_set(Pacifica28,c_white,fa_center,fa_middle); if (global.novelCount&gt;0 &amp;&amp; (global.novelCount-global.delCount)&gt;0) {
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2-string_height("A")*2+3,lang.novel_select+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=1; isEditOnly=0;}}
else {if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2-string_height("A")*2+3,lang.no_novel_was_found,global.mButtonClr,global.mButtonOutClr,c_black,0)) {story_scan(); menutype=1; isEditOnly=0;}}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+string_height("A")/2+string_height("A")*2+8+1,lang.editor+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=2;}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+string_height("A")/2+1,lang.options_and_customization+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=3;}
if (button_outback(view_xview+string_width("Language")/2+10,view_yview+view_hview-string_height("A")/2-5,"Language",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=6;}
if (!os_smartphone()) {if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,lang.sexit,global.mButtonClr,global.mButtonOutClr,c_black,0)) {game_end();}}
if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+string_height("A")/2+string_height("A")*1+4+1,lang.load_game+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=5;}
if (global.gatesEnabled) {if (global.hInited) {if (!global.loggedIn) {if (button_outback(view_xview+view_wview/2,view_yview+string_height("A")/2+5,lang.not_logged_in+" &gt;",global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=4;}
ab=view_yview+string_height("A")+6; draw_text_set(Neucha18,c_white,fa_center,fa_top);
draw_text_outline_ext(view_xview+view_wview/2,ab,lang.not_logged_in_note,c_red,c_white);}
else {if (button_outback(view_xview+view_wview/2,view_yview+string_height("A")/2+5,lang.you_are+" "+global.username+" &gt;",c_white,c_black,c_black,0)) {menutype=4;} strh=string_height("A");
    if (upddat.updcount&gt;0) {draw_text_set(Pacifica16,c_white,fa_center,fa_middle); draw_text_outline(view_xview+view_wview/2,view_yview+strh+15,lang.updates_available+": "+string(upddat.updcount)); strh+=string_height("A")+2;}
    draw_text_set(Pacifica21,c_white,fa_center,fa_middle); if (instance_exists(social)) {draw_text_outline(view_xview+view_wview/2,view_yview+strh+18,get_status(social.status));}}
} else {if (instance_exists(social)) {button_set_clickble(0);}
if (button_outback(view_xview+view_wview/2,view_yview+string_height("A")/2+5,lang.connecting_to+" Heaven's Gates...",global.mButtonClr,global.mButtonOutClr,c_black,0)) {global.trToConnect=0; instance_create(0,0,social);} button_set_clickble(1);}}
//else {button_set_clickble(0); if (button_outback(view_xview+view_wview/2,view_yview+string_height("A")/2+5,"Heaven's Gates "+lang.disabled,global.mButtonClr,global.mButtonOutClr,c_black,0)) {} button_set_clickble(1);}
global.mButtonOutClr=___rem;}

if (gMSeek!=lgMSeek) {lgMSeek=gMSeek;}
if (expanedid!=-1) {if (mToPlay!="") {if (!gMSeek) {lastMSeek=music_get_seek(); gMSeek=1;} music_play_path(mToPlay); global.mFadeOut=200; global.mFadeIn=200; music_set_seek(mPrPoint);
} else {if (gMSeek) {if (music_get_playing()!=global.menuMusic) {music_play_path(global.menuMusic); global.mFadeOut=200; global.mFadeIn=200; music_set_seek(lastMSeek); gMSeek=0;}}}
} else {if (gMSeek) {if (music_get_playing()!=global.menuMusic) {music_play_path(global.menuMusic); global.mFadeOut=200; global.mFadeIn=200; music_set_seek(lastMSeek); gMSeek=0;}}}
if (menutype==1 || (alpha3&gt;0 &amp;&amp; lastmenutype==1)) {if (menutype==1) {if (flowout&gt;=2) {if (!instance_exists(objMenu_load)) {if (alpha3&lt;1) {alpha3+=0.18*Time.deltatime;}} else {if (alpha3&gt;0) {alpha3-=0.18*Time.deltatime;}}}}
if (menutype==1) {button_set_clickble(1);} else {button_set_clickble(0);} draw_set_alpha(alpha3);
if (global.novelCount&gt;0 &amp;&amp; (global.novelCount-global.delCount)&gt;0) {
draw_text_set(Pacifica28,c_white,fa_center,fa_middle); draw_set_alpha(alpha3);
if (menutype==1) {if (cursor_under_button(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,string_width("&lt; "+lang.back)+5,string_height('A')+2)) {
    button_set_clickble(0);} else {button_set_clickble(1);}} else {button_set_clickble(1);}

//if (lsortType!=global.sortType) {lsortType=global.sortType;}
orside=1; if (mouse_check_button_pressed(mb_left) &amp;&amp; global.btCl1) {otside=1;} else {otside=0;} kbpressed=0;
if (keyboard_check_pressed(vk_up) &amp;&amp; global.btCl1) {kbpressed=1; if (global.sortType==0) {
        if (expanedid==-1) {expanedid=0;} else {expanedid-=1; if (expanedid&lt;0) {expanedid=global.novelCount-1;}} i=expanedid; rexpaned=i;}
    else if (global.sortType==1) {if (expanedid==-1) {rexpaned=0; expanedid=novdat.sortPose[0];} else {if (rexpaned-1&gt;=0) {
        expanedid=novdat.sortPose[rexpaned-1]; rexpaned-=1;} else {expanedid=novdat.sortPose[global.novelCount-1]; rexpaned=global.novelCount-1;}} i=expanedid;}
    else if (global.sortType==2) {if (expanedid==-1) {rexpaned=0; expanedid=novdat.chanPose[0];} else {if (rexpaned-1&gt;=0) {
        expanedid=novdat.chanPose[rexpaned-1]; rexpaned-=1;} else {expanedid=novdat.chanPose[global.novelCount-1]; rexpaned=global.novelCount-1;}} i=expanedid;}
    if (novdat.Background[i]!="") {//bcimage=sprite_add(working_directory+novdat.FolName[i]+"\"+novdat.Background[i],1,0,0,0,0);
    //if (sprite_exists(bcimage)) {sprite_set_offset(bcimage,sprite_get_width(bcimage)/2,sprite_get_height(bcimage)/2);}
    bpath=novdat.FolName[i]+"\"+novdat.Background[i];
    } else {bcimage=noone; bpath="";}
    if (novdat.Music[i]!="") {mToPlay=novdat.FolName[i]+"\"+novdat.Music[i]; mPrPoint=novdat.MusicPreview[i];} else {mToPlay="";}}
if (keyboard_check_pressed(vk_down) &amp;&amp; global.btCl1) {kbpressed=1; if (global.sortType==0) {
        if (expanedid==-1) {expanedid=global.novelCount-1;} else {expanedid+=1; if (expanedid&gt;=global.novelCount) {expanedid=0;}} i=expanedid; rexpaned=i;}
    else if (global.sortType==1) {if (expanedid==-1) {rexpaned=global.novelCount-1; expanedid=novdat.sortPose[global.novelCount-1];} else {if (rexpaned+1&lt;global.novelCount) {
        expanedid=novdat.sortPose[rexpaned+1]; rexpaned+=1;} else {expanedid=novdat.sortPose[0]; rexpaned=0;}} i=expanedid;}
    else if (global.sortType==2) {if (expanedid==-1) {rexpaned=global.novelCount-1; expanedid=novdat.chanPose[global.novelCount-1];} else {if (rexpaned+1&lt;global.novelCount) {
        expanedid=novdat.chanPose[rexpaned+1]; rexpaned+=1;} else {expanedid=novdat.chanPose[0]; rexpaned=0;}} i=expanedid;}
    if (novdat.Background[i]!="") {//bcimage=sprite_add(working_directory+novdat.FolName[i]+"\"+novdat.Background[i],1,0,0,0,0);
    //if (sprite_exists(bcimage)) {sprite_set_offset(bcimage,sprite_get_width(bcimage)/2,sprite_get_height(bcimage)/2);}
    bpath=novdat.FolName[i]+"\"+novdat.Background[i];
    } else {bcimage=noone; bpath="";}
    if (novdat.Music[i]!="") {mToPlay=novdat.FolName[i]+"\"+novdat.Music[i]; mPrPoint=novdat.MusicPreview[i];} else {mToPlay="";}}
if (expanedid==-1) {expaned=0; mToPlay=""; bpath=""; bcimage=noone;} _myy=(global.novelCount*(string_height('A')+5)); if (_myy&gt;400) {yyfixed=-200;} else {yyfixed=-_myy/2;}
if (keyboard_check_pressed(vk_f5) &amp;&amp; global.btCl1) {notcen_add('N',lang.novel_list_was_updated); story_scan();}
if (mouse_wheel_down() &amp;&amp; global.btCl1) {global.yyzoom-=45; draw_set_font(Pacifica28); if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {
    global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}} if (mouse_wheel_up() &amp;&amp; global.btCl1) {global.yyzoom+=45; if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}}
done=0; couldPass=0; while (!done) {rcount=1; recheck=1; if (expanedid&lt;=ystr) {adh=expaned;} else {if (expanedid==-1) {adh=0;}} adh=0; if (global.novelCount&gt;20) {ystr=-round(global.yyzoom/(string_height("A")+5+adh))-round(-yyfixed/(string_height("A")+5));} else {ystr=0;} if (ystr&lt;0) {ystr=0;}
    if ((setToYY || kbpressed) &amp;&amp; (expanedid&lt;ystr || expanedid&gt;ystr+20) &amp;&amp; expanedid!=-1) {if (!couldPass) {draw_set_font(Pacifica28); couldPass=1;
        rpose=expanedid; if (global.sortType==1) {rpose=novdat.sortPose[expanedid];} if (global.sortType==2) {rpose=novdat.chanPose[expanedid];}
        global.yyzoom=-(rpose*(string_height("A")+5))-yyfixed;} else {done=1;}} else {done=1;}}
    while (rcount&lt;=recheck) {yy=(string_height("A")+5)*ystr; nmax=ystr+20; if (nmax&gt;global.novelCount) {nmax=global.novelCount} drexp=0; for (i=ystr;i&lt;nmax;i+=1) {
    ibefore=i; if (global.sortType==1) {i=novdat.sortPose[i];} if (global.sortType==2) {i=novdat.chanPose[i];}
    if (!novdat.Deleted[i]) {if (rcount==recheck) {draw_set_alpha(alpha3);} else {draw_set_alpha(0);}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); if (novdat.isActive[i]) {
        clr=novdat.Color[i]; oclr=novdat.OutColor[i]; if (expanedid==i) {clr=c_orange; oclr=novdat.OutColor[i];}}
    else {clr=c_gray; oclr=c_black; if (expanedid==i) {clr=c_orange; oclr=novdat.OutColor[i];}}
    if (cursor_under_button(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,string_width(novdat.Name[i])+2,string_height("A")+2)) {
        //draw_text_outline(mouse_x+15,mouse_y+string_height("A")+5,"current: "+string(i));
        if (mouse_check_button_pressed(mb_right) &amp;&amp; global.btCl1) {dpressed=i; orside=0; mouse_clear(mb_right);}}
    dstr=""; mstr=novdat.DName[i]; if (global.ndebug) {dstr=" tp: "+string(novdat.TPose[i]);} if (dpressed==i) {clr=c_red; oclr=c_black; mstr=lang.click_to_delete_me;}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); if (expanedid==i) {yy+=9; draw_text_set(Pacifica39,c_white,fa_center,fa_top); yyrcr=yy;} yy1rcr=yy;
    bfalpha=draw_get_alpha(); if (expanedid==i) {draw_set_alpha(0);} mbpressed=0;
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,mstr+dstr,clr,oclr,c_black,1)) {otside=1; if (dpressed!=i) {dpressed=-1; if (expanedid!=-1 &amp;&amp; expanedid!=i) {recheck+=1;}
        if (expanedid==i) {expanedid=-1; mToPlay=""; bpath=""; bcimage=noone;} else {mbpressed=1; if (novdat.Background[i]!="") {//bcimage=sprite_add(working_directory+novdat.FolName[i]+"\"+novdat.Background[i],1,0,0,0,0);
            //if (sprite_exists(bcimage)) {sprite_set_offset(bcimage,sprite_get_width(bcimage)/2,sprite_get_height(bcimage)/2);}
            bpath=novdat.FolName[i]+"\"+novdat.Background[i];
            } else {bcimage=noone; bpath="";}
            if (novdat.Music[i]!="") {mToPlay=novdat.FolName[i]+"\"+novdat.Music[i]; mPrPoint=novdat.MusicPreview[i];} else {mToPlay="";} yyrcr=yy1rcr; rexpaned=ibefore; expanedid=i;}} else {
                if (!instance_exists(objMenu_delete)) {ab=instance_create(0,0,objMenu_delete); ab.nid=i; ab.nName=novdat.Name[i];}} mouse_clear(mb_left);} draw_set_alpha(bfalpha);
    if (expanedid==i) {rexpaned=ibefore; yyncr=yy; yy+=string_height("A")+4; draw_set_font(Pacifica19); yy-=string_height("A"); drexp=1; yycr=yy; icr=i; if (novdat.Author[i]!=""||!novdat.isActive[i]) {draw_text_set(Pacifica19,c_white,fa_center,fa_top); yy+=string_height("A")+4;}
        draw_set_font(Pacifica16); sc=0; if (novdat.isActive[i]) {if (novdat.Description[i]!="") {/*yy+=(string_height("A")*(floor(string_width(novdat.Description[i])/710)+1))+4;*/ yy+=string_height_ext(lang.desFOffset+novdat.Description[i],-1,710); sc+=1;}
            if (novdat.StoryType[i]!=-1) {yy+=(string_height("A")*(floor(string_width(novel_get_type(novdat.StoryType[i]))/710)+1))+4; sc+=1;}
            if (novdat.Size[i]!="") {yy+=(string_height("A")*(floor(string_width(novdat.Size[i])/710)+1))+4; sc+=1;} if (novdat.GenreCount[i]!=0) {yy+=string_height("A")+4;} if (novdat.HasViolence[i]) {yy+=string_height("A")+4;} if (novdat.HasNSFW[i]) {yy+=string_height("A")+4;}}
        draw_set_font(Pacifica28); yy+=string_height("A")/2; if (!novdat.HasMenu[i]) {if (string_width(lang.edit+lang.play+lang.load)&gt;=string_width(novdat.Name[i]) &amp;&amp; !isEditOnly &amp;&amp; novdat.isActive[i]) {yy+=string_height("A")+4;}}
        if (expanedid==i) {expaned=yy-yyncr;} yy+=string_height("A")+5;
        if (cursor_under_button(view_xview+view_wview/2,view_yview+view_hview/2+yy-(yy-yyncr)/2+yyfixed+global.yyzoom,760,yy-yyncr)) {
            if (mouse_check_button_pressed(mb_left) &amp;&amp; global.btCl1) {otside=0;}} if (mbpressed || kbpressed || setToYY) {draw_set_font(Pacifica28); if (setToYY) {if (global.sortType==0) {rexpaned=i;} else {rexpaned=ibefore;}}
                if (global.sortType==0) {rpose=i;} else {rpose=ibefore;} //if (global.sortType==1) {rpose=novdat.sortPose[i];} if (global.sortType==2) {rpose=novdat.chanPose[i];}
                global.yyzoom=-(rpose*(string_height("A")+5))-yyfixed-expaned/2; mbpressed=0; kbpressed=0; setToYY=0;}}
    else {yy+=string_height("A")+5;}} if (global.sortType==1) {i=ibefore;} if (global.sortType==2) {i=ibefore;}} rcount+=1;} draw_set_alpha(alpha3);
if (mouse_check_button_pressed(mb_right) &amp;&amp; global.btCl1 &amp;&amp; !undSort) {dpressed=-1;} if (mouse_check_button_pressed(mb_left) &amp;&amp; global.btCl1 &amp;&amp; !undSort) {dpressed=-1;}
if (mouse_check_button_pressed(mb_left) &amp;&amp; global.btCl1 &amp;&amp; !undSort) {if (otside) {expanedid=-1; mToPlay=""; bpath=""; bcimage=noone; expaned=0;
    if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}
    if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}}}
if (drexp) {dryy=yyrcr-string_height("A")-4; draw_set_font(Pacifica28); if (sprite_exists(global.loaded_storyBack)) {draw_sprite_pos(global.loaded_storyBack,-1,view_xview+view_wview/2-410,view_yview+view_hview/2+dryy+string_height("A")/2+yyfixed+global.yyzoom-5,view_xview+view_wview/2+410,view_yview+view_hview/2+dryy+string_height("A")/2+yyfixed+global.yyzoom-5,
        view_xview+view_wview/2+410,view_yview+view_hview/2+yycr+expaned+yyfixed+global.yyzoom-8,view_xview+view_wview/2-410,view_yview+view_hview/2+yycr+expaned+yyfixed+global.yyzoom-8,alpha3);}
    yy=yyrcr; i=icr; draw_text_set(Pacifica39,c_white,fa_center,fa_top); clr=c_orange; oclr=novdat.OutColor[i]; dstr=""; mstr=novdat.DName[i]; if (global.ndebug) {dstr=" tp: "+string(novdat.TPose[i]);} if (dpressed==i) {clr=c_red; oclr=c_black; mstr=lang.click_to_delete_me;}
        if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,mstr+dstr,clr,oclr,c_black,1)) {}
    draw_text_set(Pacifica19,c_white,fa_center,fa_top); yy=yycr; str=""; if (novdat.isActive[i]) {if (novdat.Author[i]!="") {str+="by "+novdat.Author[i];}} else {str=lang.novel_wasnt_created;}
    if (str!="") {draw_text_set(Pacifica16,c_white,fa_center,fa_top); draw_text_outline(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,str); yy+=string_height("A")+4;}
    draw_text_set(Pacifica16,c_white,fa_left,fa_top); str=""; sc=0; if (novdat.isActive[i]) {if (novdat.Description[i]!="") {
        draw_text_outline(view_xview+view_wview/2-355,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.description); str+=novdat.Description[i];}}
    if (str!="") {draw_text_outline_sep(view_xview+view_wview/2-355+string_width(lang.desOffset),view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.desFOffset+str,710);
        //yy+=(string_height("A")*(floor(string_width(lang.desFOffset+str)/710)+1))+4;
        yy+=string_height_ext(lang.desFOffset+str,-1,710)+4;}
    str=""; if (novdat.isActive[i]) {if (novdat.GenreCount[i]!=0) {draw_text_outline(view_xview+view_wview/2-355,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.genre); str+=": "+novel_get_genre(i);}}
    if (str!="") {draw_text_outline(view_xview+view_wview/2-355+string_width(lang.genre),view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,str); yy+=(string_height("A"))+4;}
    str=""; if (novdat.isActive[i]) {if (novdat.StoryType[i]!=-1) {draw_text_outline(view_xview+view_wview/2-355,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.story_type); str+=": "+novel_get_type(novdat.StoryType[i]);}}
    if (str!="") {draw_text_outline_sep(view_xview+view_wview/2-355+string_width(lang.story_type),view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,str,710); yy+=(string_height("A")*(floor(string_width(str)/710)+1))+4;}
    str=""; if (novdat.isActive[i]) {if (novdat.Size[i]!="") {draw_text_outline(view_xview+view_wview/2-355,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.size); str+=": "+novdat.Size[i];}}
    if (str!="") {draw_text_outline_sep(view_xview+view_wview/2-355+string_width(lang.size),view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,str,710); yy+=(string_height("A")*(floor(string_width(str)/710)+1))+4;}
    draw_text_set(Pacifica16,c_white,fa_center,fa_top);
    if (novdat.isActive[i]) {if (novdat.HasViolence[i]) {draw_text_outline_ext(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.warning+": "+lang.violence,c_red,c_black); yy+=string_height("A")+4;}
    if (novdat.HasNSFW[i]) {draw_text_outline_ext(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,lang.warning+": "+lang.nsfw_content,c_red,c_black); yy+=string_height("A")+4;}}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); yy+=string_height("A")/2; if (!isEditOnly &amp;&amp; novdat.isActive[i]) {xtdr[0]=view_xview+view_wview/2-string_width(lang.play)/2-string_width(lang.edit)/2-12;
    ytdr[0]=view_yview+view_hview/2+yy+yyfixed+global.yyzoom; xtdr[1]=view_xview+view_wview/2; ytdr[1]=view_yview+view_hview/2+yy+yyfixed+global.yyzoom; xtdr[2]=view_xview+view_wview/2+string_width(lang.play)/2+string_width(lang.load)/2+12;
    ytdr[2]=view_yview+view_hview/2+yy+yyfixed+global.yyzoom; if (!novdat.HasMenu[i]) {if (string_width(lang.edit+lang.play+lang.load)&gt;=string_width(novdat.DName[i])) {mxwid=0; for (ied=0;ied&lt;3;ied+=1) {
        if (ied==0) {str=string_width(lang.edit);} if (ied==1) {str=string_width(lang.play);} if (ied==2) {str=string_width(lang.load);} mxstr[ied]=str; if (str&gt;mxwid) {mxwid=str; mxnum=ied;}}
        ytdr[mxnum]+=string_height("A")+4; xtdr[mxnum]=view_xview+view_wview/2 if (mxnum==0) {xtdr[1]=view_xview+view_wview/2-mxstr[2]/2-5; xtdr[2]=view_xview+view_wview/2+mxstr[1]/2+5;}
        if (mxnum==1) {xtdr[0]=view_xview+view_wview/2-mxstr[1]/2-5; xtdr[2]=view_xview+view_wview/2+mxstr[0]/2+5;} if (mxnum==2) {xtdr[0]=view_xview+view_wview/2-mxstr[1]/2-5; xtdr[1]=view_xview+view_wview/2+mxstr[0]/2+5;}}
    if (button_outback(xtdr[0],ytdr[0],lang.edit,c_orange,c_dkgray,c_black,1)) {goToEditor=1; global.shMSetYY=1; global.nEDid=i; global.shMType=1; if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;} global.isNExists=i;}
    clr=c_orange; outclr=c_dkgray; if (!novdat.isActive[i]) {button_set_clickble(0); clr=c_gray; outclr=c_black;} else {button_set_clickble(1);}
    if (button_outback(xtdr[1],ytdr[1],lang.play,clr,outclr,c_black,1)) {global.isTesting=0; game_init(i);}
    if (button_outback(xtdr[2],ytdr[2],lang.load,clr,outclr,c_black,1)) {if (!instance_exists(objMenu_load)) {ab=instance_create(0,0,objMenu_load); ab.novid=expanedid;}}
    } else {if (button_outback(xtdr[1],ytdr[1],lang.scontinue,c_orange,c_dkgray,c_black,1)) {if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;}
        global.shMType=1; global.cNovel=novdat.RName[i]; global.cNovel_id=i; goToNMenu=1;}}
    if (!novdat.isActive[i]) {button_set_clickble(1);}} else {if (isEditOnly) {if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,lang.edit_this_one,c_orange,c_dkgray,c_black,1)) {goToEditor=1; global.shMSetYY=1;
        global.shMType=1; if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;} global.shEOnly=1; global.nEDid=i; global.isNExists=i;}}
        else {if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,lang.create+" &gt;",c_orange,c_dkgray,c_black,1)) {goToEditor=1; global.shMSetYY=1; global.shMType=1; if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;} global.nEDid=i; global.isNExists=i;}}}}
//if (expanedid==i) {yy+=string_height("A")+5; draw_text_set(Pacifica16,c_white,fa_center,fa_bottom); draw_text_outline(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Author: ME");
//        yy+=string_height("A")+5; draw_set_font(Pacifica28); if (button_outback(view_xview+view_wview/2-string_width("Load")-string_width("Load")/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Edit",c_teal,c_dkgray,c_black,1)) {}
//        if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Play",c_teal,c_dkgray,c_black,1)) {}
//        if (button_outback(view_xview+view_wview/2+string_width("Load")+string_width("Load")/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Load",c_teal,c_dkgray,c_black,1)) {}
//        draw_set_font(Pacifica16); str=string_height("A");
//        draw_set_font(Pacifica28); yy+=string_height("A")+5; if (expanedid==i) {expaned=string_height("A")+str+10;}}

draw_set_alpha(alpha3/1.6); draw_rectangle_colour(view_xview+view_wview-2,view_yview+68,view_xview+view_wview-18,view_yview+view_hview-80,c_black,c_black,c_black,c_black,0);
scfSize=(view_yview+view_hview-80)-(view_yview+68);
scSize=scfSize/((global.novelCount-global.delCount)*0.5); if (scSize&gt;scfSize) {scSize=scfSize;} if (scSize&lt;20) {scSize=20;}
draw_set_alpha(alpha3); ypreoff=(view_hview-68-80-scSize)+(view_hview-68-80-scSize)*((global.yyzoom+yyfixed)/((string_height('A')+5)*global.novelCount+expaned-(global.delCount*(string_height('A')+5))));
ysoff=view_hview-(view_hview-68-80-scSize)/2+21-ypreoff; draw_rectangle_colour(view_xview+view_wview-2,view_yview+68+ysoff,view_xview+view_wview-18,view_yview+68+ysoff+scSize,c_white,c_white,c_white,c_white,0);

if (global.btCl1) {if (mouse_check_button_pressed(mb_right)) {_lmx=mouse_x; _lmy=mouse_y; und=undSort;} if (mouse_check_button_released(mb_right) &amp;&amp; !und) {
    if ((mouse_x==_lmx||mouse_y==_lmy)&amp;&amp;moHld&lt;=6) {if (orside) {if (expanedid!=-1) {expanedid=-1; mToPlay=""; bpath=""; bcimage=noone; expaned=0;
    if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}
    if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}} else {if (isEditOnly) {lastmenutype=0; _lmpage2=2; menutype=2;} else {menutype=0;} button_set_clickble(1); mouse_clear(mb_right);}}}}
if (mouse_check_button(mb_right) &amp;&amp; !und) {if (moHld&lt;7) {moHld+=1*Time.deltatime;} if (!window_has_focus()) {mouse_clear(mb_right);}
    if (mouse_x!=_lmx||mouse_y!=_lmy||moHld&gt;6) {global.yyzoom=(view_hview-(view_hview-68-80-55))-(mouse_y/view_hview)*((string_height('A')+5)*global.novelCount+expaned-(global.delCount*(string_height('A')+5)));
        if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}
        if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}}} else {moHld=0;}}} else {
draw_text_set(Pacifica39,c_white,fa_center,fa_middle); draw_text_outline(view_xview+view_wview/2,view_yview+view_hview/2,lang.no_novel_was_found);
if (mouse_check_button_pressed(mb_right)) {if (!isEditOnly) {menutype=0;} else {lastmenutype=0; _lmpage2=2; menutype=2;} mouse_clear(mb_right);}}

draw_text_set(Pacifica39,c_white,fa_center,fa_middle); draw_set_alpha(alpha3/1.5); strh=string_height('A');
draw_rectangle_colour(view_xview,view_yview,view_xview+view_wview,view_yview+string_height('A')+4,c_black,c_black,c_black,c_black,0); draw_set_alpha(alpha3);
txt=lang.novel_selection; if (isEditOnly) {txt=lang.edit;}
draw_text_outline(view_xview+view_wview/2,view_yview+string_height("A")/2+5,txt); sw=string_width(txt)/2+10;
draw_text_set(Pacifica16,c_white,fa_left,fa_bottom); draw_text_outline(view_xview+view_wview/2+sw,view_yview+strh+2,lang.available+" "+string(global.novelCount-global.delCount)+" "+lang.novels);
draw_set_font(Pacifica28); draw_set_alpha(alpha3/1.5);
draw_rectangle_colour(view_xview,view_yview+view_hview,view_xview+view_wview,view_yview+view_hview-string_height('A')-8-28,c_black,c_black,c_black,c_black,0);
draw_set_alpha(alpha3); stra=string_height('A'); draw_text_set(Pacifica16,c_white,fa_center,fa_bottom); srtype=sort_get_string(global.sortType);
cp=0; if (expanedid!=-1 &amp;&amp; rexpaned!=-1) {if (novdat.novelID[expanedid]!=-1) {cp=1;}}
if (cp) {clr=c_white; txt=lang.go_to_store; if (!global.loggedIn) {clr=c_gray; button_set_clickble(0);}
    if (button_outback(view_xview+view_wview/2-sw-20-string_width(txt)/2,view_yview+strh+2-string_height("A")/2,txt,clr,global.mButtonOutClr,c_black,0)) {
    goToStore=1; global.stLCBack=0; global.shMType=1; global.shMExpaned=expanedid; global.shMStart=lastMSeek; global.lstNovType=novdat.novelID[expanedid]; global.lacType=6; global.lstNovPath="";} if (!global.loggedIn) {button_set_clickble(1);}}
clr=global.mButtonClr; if (global.novelCount-global.delCount&lt;=0) {button_set_clickble(0); clr=c_gray;}
if (cursor_under_button(view_xview+50+string_width("Sort: "+srtype)/2,view_yview+view_hview-stra-8-string_height("A")/2,string_width("Sort: "+srtype),string_height("A")) &amp;&amp; clr==global.mButtonClr) {
    undSort=1; if (mouse_check_button_pressed(mb_right)) {global.sortType-=1; if (global.sortType&lt;0) {global.sortType=2;}
    if (expanedid!=-1) {setToYY=1; /*rpose=expanedid; if (global.sortType==1) {rpose=novdat.sortPose[expanedid];} if (global.sortType==2) {rpose=novdat.chanPose[expanedid];}
        global.yyzoom=((string_height('A')+5)*rpose+yyfixed-(global.delCount*(string_height('A')+5)))+expaned/2;*/
        /*yyoff=((string_height('A')+5)*expanedid+yyfixed-(global.delCount*(string_height('A')+5)))-global.yyzoom;
        rpose=expanedid; if (global.sortType==1) {rpose=novdat.sortPose[expanedid];} if (global.sortType==2) {rpose=novdat.chanPose[expanedid];}
        global.yyzoom=((string_height('A')+5)*rpose+yyfixed-(global.delCount*(string_height('A')+5)))+yyoff;
        if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}
        if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}*/} uchar_savesp(); story_refresh_type(); mouse_clear(mb_right);}} else {
            if (cursor_under_button(view_xview+view_wview/2-sw-20-string_width(txt)/2,view_yview+strh+2-string_height("A")/2,string_width(lang.go_to_store),string_height("A")) &amp;&amp; global.loggedIn) {undSort=1;} else {undSort=0;}}
if (button_outback(view_xview+50+string_width("Sort: "+srtype)/2,view_yview+view_hview-stra-8-string_height("A")/2,lang.sort+": "+srtype,clr,global.mButtonOutClr,c_black,0)) {
    global.sortType+=1; if (global.sortType&gt;2) {global.sortType=0;}
    if (expanedid!=-1) {setToYY=1;/*rpose=expanedid; if (global.sortType==1) {rpose=novdat.sortPose[expanedid];} if (global.sortType==2) {rpose=novdat.chanPose[expanedid];}
        global.yyzoom=((string_height('A')+5)*rpose+yyfixed-(global.delCount*(string_height('A')+5)))+expaned/2;*/
        /*yyoff=((string_height('A')+5)*expanedid+yyfixed-(global.delCount*(string_height('A')+5)))-global.yyzoom;
        rpose=expanedid; if (global.sortType==1) {rpose=novdat.sortPose[expanedid];} if (global.sortType==2) {rpose=novdat.chanPose[expanedid];}
        global.yyzoom=((string_height('A')+5)*rpose+yyfixed-(global.delCount*(string_height('A')+5)))+yyoff;
        if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}
        if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}*/} uchar_savesp(); story_refresh_type(); mouse_clear(mb_left);}
if (global.novelCount-global.delCount&lt;=0) {button_set_clickble(1);} draw_text_set(Pacifica16,c_white,fa_center,fa_bottom);
draw_text_outline(view_xview+view_wview/2,view_yview+view_hview-stra-8,lang.press+" 'F5' "+lang.to_update_the_list);
draw_text_set(Pacifica28,c_white,fa_center,fa_middle); button_set_clickble(1);
if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,"&lt; "+lang.back,global.mButtonClr,global.mButtonOutClr,c_black,0)) {
    if (isEditOnly) {lastmenutype=0; _lmpage2=2; menutype=2;} else {menutype=0;} expanedid=-1; mToPlay=""; bpath=""; bcimage=noone; button_set_clickble(1);}}

if (menutype==2 || (alpha3&gt;0 &amp;&amp; lastmenutype==2)) {if (menutype==2) {if (flowout&gt;=2) {if (alpha3&lt;1) {alpha3+=0.18*Time.deltatime;}}} draw_set_alpha(alpha3);
    if (mouse_check_button_pressed(mb_right)) {menutype=0;} if (menutype==2) {button_set_clickble(1);} else {button_set_clickble(0);}
    draw_text_set(Pacifica39,c_white,fa_center,fa_middle); draw_text_outline(view_xview+view_wview/2,view_yview+string_height("A")/2+5,lang.editor)
    draw_text_set(Pacifica28,c_white,fa_center,fa_top);;
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2-string_height("A"),lang.create_new_novel+" &gt;",c_aqua,global.mButtonOutClr,c_black,0)) {goToEditor=1; global.shMSetYY=1; global.shMType=2; global.nEDid=global.novelCount; global.isNExists=-1;}
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+4,lang.edit_existing_one+" &gt;",c_orange,global.mButtonOutClr,c_black,0)) {lastmenutype=0; _lmpage2=1; menutype=1; isEditOnly=1;}
    draw_text_set(Pacifica28,c_white,fa_center,fa_middle);
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,"&lt; "+lang.back,global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=0;}}

if (menutype==3 || (alpha3&gt;0 &amp;&amp; lastmenutype==3)) {if (menutype==3) {if (round(flowout)&gt;=2) {
        if (!mtpskin &amp;&amp; !mtpres) {if (alpha3&lt;0.90) {alpha3+=0.18*Time.deltatime; if (alpha3&gt;0.9) {alpha3=0.9;}} if (alpha3&gt;0.90) {alpha3-=0.18*Time.deltatime; if (alpha3&lt;0.9) {alpha3=0.9;}}} else {if (alpha3&lt;1) {alpha3+=0.18*Time.deltatime;}}}} draw_set_alpha(alpha3);
    if (!mtpskin) {if (mouse_check_button_pressed(mb_right)) {if (!mtpres) {menutype=0; uchar_save();} else {mtpres=0;} mouse_clear(mb_right);}} if (menutype==3) {button_set_clickble(1);} else {button_set_clickble(0);} draw_options();}

if (menutype==4 || (alpha3&gt;0 &amp;&amp; lastmenutype==4)) {if (menutype==4) {if (round(flowout)&gt;=2) {if (alpha3&lt;1) {alpha3+=0.18*Time.deltatime;}}} draw_set_alpha(alpha3);
    if (mouse_check_button_pressed(mb_right)) {menutype=0;} if (menutype==4) {if (!waitForAnswer) {button_set_clickble(1);}
        else {button_set_clickble(0);}} else {button_set_clickble(0);}
    if (!global.loggedIn) {yh=-60; draw_text_set(Pacifica28,c_white,fa_center,fa_top); _str=lang.your_username; if (_tLogin!="" &amp;&amp; _tLogin!=".") {_str=_tLogin;}
        strw=string_width(_str); draw_text_set(Pacifica16,c_white,fa_center,fa_top);
        draw_text_outline(view_xview+view_wview/2-70,view_yview+280+yh,lang.username+": "); yh+=string_height("A")+4;
        draw_text_set(Pacifica28,c_white,fa_center,fa_top);
        if (button_outback(view_xview+view_wview/2,view_yview+280+yh+string_height("A")/2,_str,c_orange,global.mButtonOutClr,c_black,1)) {
            window_set_fullscreen(0); gts=get_string(lang.type_your_username+": ",_tLogin); if (gts!="") {_tLogin=gts;}} yh+=string_height("A")+8;
        draw_text_set(Pacifica28,c_white,fa_center,fa_top); _str=lang.your_password; if (_tPassword!="" &amp;&amp; _tPassword!=".") {_str="********";}
        strw=string_width(_str); draw_text_set(Pacifica16,c_white,fa_center,fa_top);
        draw_text_outline(view_xview+view_wview/2-70,view_yview+280+yh,lang.password+": "); yh+=string_height("A")+4;
        draw_text_set(Pacifica28,c_white,fa_center,fa_top);
        if (button_outback(view_xview+view_wview/2,view_yview+280+yh+string_height("A")/2,_str,c_orange,global.mButtonOutClr,c_black,1)) {
            window_set_fullscreen(0); gts=get_string(lang.type_your_password+": ",_tPassword); if (gts!="") {_tPassword=gts;}} yh+=string_height("A")+8;
        if (button_outback(view_xview+view_wview/2-string_width(lang.register)/2-10,view_yview+280+yh+string_height("A")/2,lang.login,c_aqua,global.mButtonOutClr,c_black,1)) {
            cstr=check_for_folder_availablel(string(_tLogin)); if (cstr=="" || cstr==_tLogin) { global.username=_tLogin; global.password=_tPassword;
            if (global.username!="" &amp;&amp; string_count(" ",global.username)!=string_length(global.username) &amp;&amp; global.password!="" &amp;&amp; string_count(" ",global.password)!=string_length(global.password)) {
                client_send_login(global.username,global.password);}} else {notcen_add("E",lang.username_has_weird_symbols);}}
        if (button_outback(view_xview+view_wview/2+string_width(lang.login)/2+10,view_yview+280+yh+string_height("A")/2,lang.register,c_aqua,global.mButtonOutClr,c_black,1)) {
            global.username=_tLogin; global.password=_tPassword;
            if (global.username!="" &amp;&amp; string_count(" ",global.username)!=string_length(global.username) &amp;&amp; global.password!="" &amp;&amp; string_count(" ",global.password)!=string_length(global.password)) {
                client_send_register(global.username,global.password); waitForAnswer=1;}} yh+=string_height("A")+8;
        draw_text_set(Pacifica16,c_white,fa_center,fa_top);
        if (pointbutton(view_xview+view_wview/2,view_yview+280+yh+string_height("A")/2,lang.remember_login,global.mButtonClr,global.mButtonOutClr,c_black,global.remUsername,1)) {global.remUsername=!global.remUsername;} yh+=string_height("A")+4;
        if (pointbutton(view_xview+view_wview/2,view_yview+280+yh+string_height("A")/2,lang.remember_password,global.mButtonClr,global.mButtonOutClr,c_black,global.remPassword,1)) {global.remPassword=!global.remPassword;}}
    else {draw_text_set(Pacifica28,c_white,fa_center,fa_top);
        //if (button_outback(view_xview+view_wview/2,view_yview+15+string_height("A")/2,lang.logout,c_aqua,c_dkgray,c_black,1)) {client_send_logout(); waitForAnswer=1;}
        goToStore=1;}
    draw_text_set(Pacifica28,c_white,fa_center,fa_middle);
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,"&lt; "+lang.back,global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=0;}}

if (menutype==5 || (alpha3&gt;0 &amp;&amp; lastmenutype==5)) {if (menutype==5) {if (flowout&gt;=2) {if (alpha3&lt;1) {alpha3+=0.18*Time.deltatime;}}} draw_set_alpha(alpha3);
    if (mouse_check_button_pressed(mb_right)) {menutype=0;}
    draw_text_set(Pacifica28,c_white,fa_center,fa_middle); if (menutype==5) {button_set_clickble(1);} else {button_set_clickble(0);}
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,"&lt; "+lang.back,global.mButtonClr,global.mButtonOutClr,c_black,0)) {menutype=0;}}

if (menutype==6 || (alpha3&gt;0 &amp;&amp; lastmenutype==6)) {if (menutype==6) {if (flowout&gt;=2) {if (alpha3&lt;1) {alpha3+=0.18*Time.deltatime;}}} draw_set_alpha(alpha3);
    if (mouse_check_button_pressed(mb_right)) {if (lchanged) {story_scan(); uchar_save(); lchanged=0;} menutype=0;}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); if (menutype==6) {button_set_clickble(1);} else {button_set_clickble(0);} yyh=-20;
    if (global.localisation=="English") {_c1=c_lime; _c2=c_gray;} else {_c1=c_white; _c2=c_dkgray;}
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yyh,"English",_c1,_c2,c_black,0)) {lchanged=1; global.localisation="English";} yyh+=string_height("A")+5;
    if (global.localisation=="Русский") {_c1=c_lime; _c2=c_gray;} else {_c1=c_white; _c2=c_dkgray;}
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yyh,"Русский",_c1,_c2,c_black,0)) {lchanged=1; global.localisation="Русский";} yyh+=string_height("A")+5;
    draw_text_set(Pacifica28,c_white,fa_center,fa_middle);
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview-string_height("A")/2-5,"&lt; "+lang.back,global.mButtonClr,global.mButtonOutClr,c_black,0)) {if (lchanged) {story_scan(); uchar_save(); lchanged=0;} menutype=0;}}

if (_lmpage2!=menutype) {lastmenutype=_lmpage1; _lmpage2=menutype;} draw_set_alpha(1);

/*
if (mouse_wheel_up()) {global.yyzoom+=25; draw_set_font(Pacifica28); if (global.yyzoom&gt;((string_height('A')+2)*global.novelCount+yyfixed)) {
    global.yyzoom=((string_height('A')+2)*global.novelCount+yyfixed);}} if (mouse_wheel_down()) {global.yyzoom-=25; if (global.yyzoom&lt;yyfixed) {global.yyzoom=yyfixed;}}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*rcount=0; recheck=1; ystr=-round(global.yyzoom/(string_height("A")+5))-round(-yyfixed/(string_height("A")+5)); if (ystr&lt;0) {ystr=0;}
    while (rcount&lt;=recheck) {yy=(string_height("A")+5)*ystr; nmax=ystr+20; if (nmax&gt;global.novelCount) {nmax=global.novelCount} drexp=0; for (i=ystr;i&lt;nmax;i+=1) {if (!novdat.Deleted[i]) {if (rcount==recheck) {draw_set_alpha(alpha3);} else {draw_set_alpha(0);}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); clr=novdat.Color[i]; oclr=novdat.OutColor[i]; if (expanedid==i) {clr=c_orange; oclr=novdat.OutColor[i];}
    if (cursor_under_button(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,string_width(novdat.Name[i])+2,string_height("A")+2)) {
        //draw_text_outline(mouse_x+15,mouse_y+string_height("A")+5,"current: "+string(i));
        if (mouse_check_button_pressed(mb_right)) {dpressed=i; orside=0; mouse_clear(mb_right);}}
    dstr=""; mstr=novdat.Name[i]; if (global.ndebug) {dstr=" tp: "+string(novdat.TPose[i]);} if (dpressed==i) {clr=c_red; oclr=c_black; mstr=lang.click_to_delete_me;}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); if (expanedid==i) {yy+=9; draw_text_set(Pacifica39,c_white,fa_center,fa_top); yyrcr=yy;} yy1rcr=yy;
    bfalpha=draw_get_alpha(); if (expanedid==i) {draw_set_alpha(0);}
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,mstr+dstr,clr,oclr,c_black,1)) {otside=1; if (dpressed!=i) {if (expanedid!=-1 &amp;&amp; expanedid!=i) {recheck+=1;}
        if (expanedid==i) {expanedid=-1; mToPlay=""; bcimage=noone;} else {if (novdat.Background[i]!="") {bcimage=sprite_add(working_directory+novdat.FolName[i]+"\"+novdat.Background[i],1,0,0,0,0);
            if (sprite_exists(bcimage)) {sprite_set_offset(bcimage,sprite_get_width(bcimage)/2,sprite_get_height(bcimage)/2);}} else {bcimage=noone;}
            if (novdat.Music[i]!="") {mToPlay=novdat.FolName[i]+"\"+novdat.Music[i]; mPrPoint=novdat.MusicPreview[i];} else {mToPlay="";} yyrcr=yy1rcr; expanedid=i;}} else {
                dlt=0; if (FS_file_exists(FS_current_directory()+"\Novels\"+novdat.FileName[i]+".nsndat")) {dlt=1; FS_file_delete(FS_current_directory()+"\Novels\"+novdat.FileName[i]+".nsndat");
                    if (FS_file_exists(FS_current_directory()+"\Novels\"+novdat.FileName[i]+".nsndat")) {FS_ini_open(FS_current_directory()+"\Novels\"+novdat.FileName[i]+".nsndat"); FS_ini_write_real("NOVELDATA","deleted",1); FS_ini_close();}}
                if (!dlt) {str=novdat.FolName[i]; if (string_copy(novdat.FolName[i],1,string_length("Novels\"))=="Novels\") {str=string_copy(novdat.FolName[i],string_length("Novels\")+1,string_length(novdat.FolName[i])-string_length("Novels\"));}
                    if (FS_file_exists(FS_current_directory()+"\Novels\"+str+".nsndat")) {FS_file_delete(FS_current_directory()+"\Novels\"+str+".nsndat");
                        if (FS_file_exists(FS_current_directory()+"\Novels\"+str+".nsndat")) {FS_ini_open(FS_current_directory()+"\Novels\"+str+".nsndat"); FS_ini_write_real("NOVELDATA","deleted",1); FS_ini_close();}}}
                if (FS_directory_exists(FS_current_directory()+"\"+novdat.FolName[i]+"\")) {FS_directory_delete(FS_current_directory()+"\"+novdat.FolName[i]+"\");}
                notcen_add("E","Deleted: "+string(novdat.Name[i])); global.delCount+=1; if (expanedid==i) {expanedid=-1;} novdat.Deleted[i]=1; dpressed=-1; story_scan(); if (global.novelCount-global.delCount&lt;=0) {exit;}} mouse_clear(mb_left);} draw_set_alpha(bfalpha);
    if (expanedid==i) {yyncr=yy; yy+=string_height("A")+5; drexp=1; yycr=yy; icr=i; if (novdat.Version[i]!="" || novdat.Author[i]!=""||!novdat.isActive[i]) {draw_text_set(Pacifica16,c_white,fa_center,fa_bottom);
        yy+=string_height("A")+5;} draw_text_set(Pacifica28,c_white,fa_center,fa_bottom); draw_set_font(Pacifica16); str=string_height("A");
        draw_set_font(Pacifica28); str2=0; if (string_width(lang.edit+lang.play+lang.load)&gt;=string_width(novdat.Name[i]) &amp;&amp; !isEditOnly &amp;&amp; novdat.isActive[i]) {str2=string_height("A")+4; yy+=str2;}
        yy+=string_height("A")+5; if (expanedid==i) {expaned=string_height("A")+str+str2+10;}
        //dralph=draw_get_alpha(); draw_set_alpha(dralph/2); draw_rectangle_colour(view_xview+view_wview/2-string_width(novdat.Name[i])/2,view_yview+view_hview/2+yy-(yy-yyncr)+yyfixed+global.yyzoom,view_xview+view_wview/2+string_width(novdat.Name[i])/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,
            //c_black,c_black,c_black,c_black,0); draw_set_alpha(dralph);
        if (cursor_under_button(view_xview+view_wview/2,view_yview+view_hview/2+yy-(yy-yyncr)/2+yyfixed+global.yyzoom,string_width(novdat.Name[i]),yy-yyncr)) {
            if (mouse_check_button_pressed(mb_left)) {otside=0;}}}
    else {yy+=string_height("A")+5;}}} rcount+=1;} draw_set_alpha(alpha3);
if (mouse_check_button_pressed(mb_right)) {dpressed=-1;} if (mouse_check_button_pressed(mb_left)) {dpressed=-1;}
if (mouse_check_button_pressed(mb_left)) {if (otside) {expanedid=-1; mToPlay=""; bcimage=noone; expaned=0;
    if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)))) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned-(global.delCount*(string_height('A')+5)));}
    if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}}}
if (drexp) {dryy=yyrcr-string_height("A")-4; draw_sprite_pos(global.loaded_storyBack,-1,view_xview+view_wview/2-380,view_yview+view_hview/2+dryy+string_height("A")/2+yyfixed+global.yyzoom-5,view_xview+view_wview/2+380,view_yview+view_hview/2+dryy+string_height("A")/2+yyfixed+global.yyzoom-5,
                view_xview+view_wview/2+380,view_yview+view_hview/2+yycr+expaned-string_height("A")/2-2+yyfixed+global.yyzoom,view_xview+view_wview/2-380,view_yview+view_hview/2+yycr+expaned-string_height("A")/2-2+yyfixed+global.yyzoom,alpha3);
    yy=yyrcr; i=icr; draw_text_set(Pacifica39,c_white,fa_center,fa_top); clr=c_orange; oclr=novdat.OutColor[i]; dstr=""; mstr=novdat.Name[i]; if (global.ndebug) {dstr=" tp: "+string(novdat.TPose[i]);} if (dpressed==i) {clr=c_red; oclr=c_black; mstr=lang.click_to_delete_me;}
        if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,mstr+dstr,clr,oclr,c_black,1)) {} yy=yycr;
    str=""; if (novdat.isActive[i]) {if (novdat.Version[i]!="") {str+="(Ver: "+string(novdat.Version[i])+")";} if (novdat.Author[i]!="") {str+=" by "+novdat.Author[i];}} else {str=lang.novel_wasnt_created;}
    if (str!="") {draw_text_set(Pacifica16,c_white,fa_center,fa_bottom); draw_text_outline(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom-1,str);
    yy+=string_height("A")+5;} draw_text_set(Pacifica28,c_white,fa_center,fa_top); if (!isEditOnly &amp;&amp; novdat.isActive[i]) {xtdr[0]=view_xview+view_wview/2-string_width(lang.play)/2-string_width(lang.edit)/2-12;
    ytdr[0]=view_yview+view_hview/2+yy+yyfixed+global.yyzoom; xtdr[1]=view_xview+view_wview/2; ytdr[1]=view_yview+view_hview/2+yy+yyfixed+global.yyzoom; xtdr[2]=view_xview+view_wview/2+string_width(lang.play)/2+string_width(lang.load)/2+12;
    ytdr[2]=view_yview+view_hview/2+yy+yyfixed+global.yyzoom; if (string_width(lang.edit+lang.play+lang.load)&gt;=string_width(novdat.Name[i])) {mxwid=0; for (ied=0;ied&lt;3;ied+=1) {
        if (ied==0) {str=string_width(lang.edit);} if (ied==1) {str=string_width(lang.play);} if (ied==2) {str=string_width(lang.load);} mxstr[ied]=str; if (str&gt;mxwid) {mxwid=str; mxnum=ied;}}
        ytdr[mxnum]+=string_height("A")+4; xtdr[mxnum]=view_xview+view_wview/2 if (mxnum==0) {xtdr[1]=view_xview+view_wview/2-mxstr[2]/2-5; xtdr[2]=view_xview+view_wview/2+mxstr[1]/2+5;}
        if (mxnum==1) {xtdr[0]=view_xview+view_wview/2-mxstr[1]/2-5; xtdr[2]=view_xview+view_wview/2+mxstr[0]/2+5;} if (mxnum==2) {xtdr[0]=view_xview+view_wview/2-mxstr[1]/2-5; xtdr[1]=view_xview+view_wview/2+mxstr[0]/2+5;}}
    if (button_outback(xtdr[0],ytdr[0],lang.edit,c_orange,c_dkgray,c_black,1)) {goToEditor=1; global.nEDid=i; global.shMType=1; if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;} global.isNExists=i;}
    clr=c_orange; outclr=c_dkgray; if (!novdat.isActive[i]) {button_set_clickble(0); clr=c_gray; outclr=c_black;} else {button_set_clickble(1);}
    if (button_outback(xtdr[1],ytdr[1],lang.play,clr,outclr,c_black,1)) {global.isTesting=0; game_init(i);}
    if (button_outback(xtdr[2],ytdr[2],lang.load,clr,outclr,c_black,1)) {}
    if (!novdat.isActive[i]) {button_set_clickble(1);}} else {if (isEditOnly) {if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,lang.edit_this_one,c_orange,c_dkgray,c_black,1)) {goToEditor=1;
        global.shMType=1; if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;} global.shEOnly=1; global.nEDid=i; global.isNExists=i;}}
        else {if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,lang.create+" &gt;",c_orange,c_dkgray,c_black,1)) {goToEditor=1; global.shMType=1; if (music_get_playing()!=global.menuMusic) {global.shMStart=lastMSeek;} global.nEDid=i; global.isNExists=i;}}}}





/*if (mouse_check_button_pressed(mb_left)) {otside=1;} else {otside=0;}
if (expanedid==-1) {expaned=0;} _myy=(global.novelCount*(string_height('A')+5)); if (_myy&gt;400) {yyfixed=-200;} else {yyfixed=-_myy/2;}
if (keyboard_check_pressed(vk_f5)) {notcen_add('N',lang.novel_list_was_updated); story_scan();}
if (mouse_wheel_down()) {global.yyzoom-=45; draw_set_font(Pacifica28); if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned)) {
    global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned);}} if (mouse_wheel_up()) {global.yyzoom+=45; if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}}
rcount=0; recheck=1; while (rcount&lt;=recheck) {yy=0; drexp=0; for (i=0;i&lt;global.novelCount;i+=1) {if (rcount==recheck) {draw_set_alpha(alpha3);} else {draw_set_alpha(0);}
    draw_text_set(Pacifica28,c_white,fa_center,fa_top); clr=c_white; oclr=c_gray; if (expanedid==i) {clr=c_orange; oclr=c_dkgray;}
    if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,novdat.Name[i],clr,oclr,c_black,1)) {/*game_init(i);otside=1; if (expanedid!=-1 &amp;&amp; expanedid!=i) {recheck+=1;} expanedid=i; mouse_clear(mb_left);}
    if (expanedid==i) {yy+=string_height("A")+5; drexp=1; yycr=yy; draw_text_set(Pacifica16,c_white,fa_center,fa_bottom);
        yy+=string_height("A")+5; draw_set_font(Pacifica28); draw_set_font(Pacifica16); str=string_height("A");
        draw_set_font(Pacifica28); yy+=string_height("A")+5; if (expanedid==i) {expaned=string_height("A")+str+10;}}
    else {yy+=string_height("A")+5;}} rcount+=1;} draw_set_alpha(alpha3);
if (mouse_check_button_pressed(mb_left)) {if (otside) {expanedid=-1; expaned=0;
    if (global.yyzoom&lt;-((string_height('A')+5)*global.novelCount+yyfixed+expaned)) {global.yyzoom=-((string_height('A')+5)*global.novelCount+yyfixed+expaned);}
    if (global.yyzoom&gt;-yyfixed) {global.yyzoom=-yyfixed;}}}
if (drexp) {yy=yycr; draw_text_set(Pacifica16,c_white,fa_center,fa_bottom); draw_text_outline(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Author: ME");
        yy+=string_height("A")+5; draw_set_font(Pacifica28); if (button_outback(view_xview+view_wview/2-string_width("Load")-string_width("Load")/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Edit",c_teal,c_dkgray,c_black,1)) {}
        if (button_outback(view_xview+view_wview/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Play",c_teal,c_dkgray,c_black,1)) {}
        if (button_outback(view_xview+view_wview/2+string_width("Load")+string_width("Load")/2,view_yview+view_hview/2+yy+yyfixed+global.yyzoom,"Load",c_teal,c_dkgray,c_black,1)) {}}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ALPHA
//if (alpha&gt;0) {alpha-=0.05;}
if (alpha4&gt;0) {draw_set_alpha(alpha4);
draw_rectangle_colour(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,c_black,c_black,c_black,c_black,0); draw_set_alpha(1);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
